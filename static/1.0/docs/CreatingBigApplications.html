
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Creating Big Applications &mdash; TurboGears 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/tg.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <script type="text/javascript" src="_static/header.js"></script>
    <link rel="top" title="TurboGears 1.0 documentation" href="index.html" />
    <link rel="next" title="Loading Kid templates from outside your application package" href="NonPackagedKidTemplates.html" />
    <link rel="prev" title="Breadcrumb Style Navigation" href="BreadCrumb.html" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="NonPackagedKidTemplates.html" title="Loading Kid templates from outside your application package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="BreadCrumb.html" title="Breadcrumb Style Navigation"
             accesskey="P">previous</a> |</li>
<li><a href="index.html">TurboGears 1.0 documentation</a> &raquo;</li>
<li id="searchbox" style="display: none; margin: 0 20px;" class="right">
  <form class="search" action="search.html" method="get">
    <span>Search:</span>
    <input type="text" name="q" size="18" />
    <input type="submit" value="Go" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</li>
<script type="text/javascript">$('#searchbox').show(0);</script>
 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">TurboGears 1.0 FAQ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Install/index.html">Downloading and Installing TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="Install/Deployment.html">Deploying TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="Database/index.html">Database Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/BigPicture.html">The Big Picture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TGScreencasts.html">TurboGears Screencasts</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Wiki20/Page1.html">The 20 Minutes Wiki</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Controller.html">Controller Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Arguments.html">I Wanted An Argument!</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/UseDatabase.html">Data Model Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Kid.html">A Brief Introduction to Kid Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/MochiKit.html">A Brief Introduction to MochiKit</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Identity/GettingStarted.html">Getting Started With Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Introduction.html">Introduction To Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/SimpleForm.html">Simple Widget Form Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="FileUploadTutorial.html">File Upload Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="ToDoListTutorial.html">Brian&#8217;s TurboGears Tutorial</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="TgAdmin.html">tg-admin command line tool reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="QuickStart.html">Are you ready to gear up?</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Server.html">Starting Up The Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="Configuration.html">TurboGears Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Creating Big Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dividing-the-controller-into-separate-classes">Dividing the Controller into Separate Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dividing-the-project-into-separate-modules">Dividing the Project into Separate Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#splitting-the-controller">Splitting the Controller</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#letting-quickstart-do-the-work">Letting quickstart do the Work</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-a-controllers-package-manually">Creating a <tt class="docutils literal"><span class="pre">controllers</span></tt> Package Manually</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#splitting-the-model">Splitting the Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#organizing-templates-into-sub-directories">Organizing Templates Into Sub-directories</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="SpecificProblems.html">Solving specific problems</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Arguments.html">I Wanted An Argument!</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/URLs.html">Using URLs</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Creating Big Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dividing-the-controller-into-separate-classes">Dividing the Controller into Separate Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dividing-the-project-into-separate-modules">Dividing the Project into Separate Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#splitting-the-controller">Splitting the Controller</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#letting-quickstart-do-the-work">Letting quickstart do the Work</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-a-controllers-package-manually">Creating a <tt class="docutils literal"><span class="pre">controllers</span></tt> Package Manually</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#splitting-the-model">Splitting the Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#organizing-templates-into-sub-directories">Organizing Templates Into Sub-directories</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="RequestResponse.html">Access Request/Response Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="StaticFiles.html">Serving Static Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="Cookies.html">Using Cookies in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sessions.html">Using Sessions in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="FeedController.html">Serving RSS and Atom feeds</a></li>
<li class="toctree-l1"><a class="reference internal" href="UnifiedControllers.html">Unified Form Data Validation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ExposeDecorator.html">&#64;expose()</a></li>
<li class="toctree-l1"><a class="reference internal" href="ValidateDecorator.html">&#64;validate()</a></li>
<li class="toctree-l1"><a class="reference internal" href="ErrorHandling.html">Error Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/Usage.html">Using Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="PaginateDecorator.html">&#64;paginate()</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="StdVars.html"><tt class="docutils literal"><span class="pre">stdvars</span></tt>: Global Template Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="HeadersFooters.html">Application-wide Headers and Footers</a></li>
<li class="toctree-l1"><a class="reference internal" href="JSON.html">JSON Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="Designer.html">Designer-Friendly Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="DummyTemplate.html">Dummy Kid Template for Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="KidHTMLEntities.html">HTML Entities in Kid templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="CheckedCheckBox.html">Automatically Checking a Checkbox or Radio Button</a></li>
<li class="toctree-l1"><a class="reference internal" href="BreadCrumb.html">Breadcrumb Style Navigation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Creating Big Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dividing-the-controller-into-separate-classes">Dividing the Controller into Separate Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dividing-the-project-into-separate-modules">Dividing the Project into Separate Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#splitting-the-controller">Splitting the Controller</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#letting-quickstart-do-the-work">Letting quickstart do the Work</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-a-controllers-package-manually">Creating a <tt class="docutils literal"><span class="pre">controllers</span></tt> Package Manually</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#splitting-the-model">Splitting the Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#organizing-templates-into-sub-directories">Organizing Templates Into Sub-directories</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="NonPackagedKidTemplates.html">Loading Kid templates from outside your application package</a></li>
<li class="toctree-l1"><a class="reference internal" href="GenshiInternationalizationWithBabel.html">Genshi Templates Internationalization with Babel</a></li>
<li class="toctree-l1"><a class="reference internal" href="AdvancedCheetahTemplates.html">Templates for using TurboCheetah with TurboGears</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/DefineDatabase.html">Data Model Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="BackEndOverview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="BackEndOverview.html#supported-backends">Supported backends</a></li>
<li class="toctree-l1"><a class="reference internal" href="DbUri.html">The DB-URI</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/index.html">SQLObject Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="TgAdminSqlUpgrade.html">How to Use <tt class="docutils literal"><span class="pre">tgadmin</span> <span class="pre">sql</span> <span class="pre">upgrade</span></tt> with SQLObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="ModelOutsideTG.html">Using Your Model Outside of TurboGears Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="MultipleDatabases.html">Using Multiple Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/AutoUpdateField.html">Auto-updating an attribute with SQLObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Debug.html">SQLObject Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/DirectSQL.html">SQLObject direct SQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/ForeignKeys.html">SQLObject Foreign Keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/QuickGuide.html">SQLObject Quick Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/ReservedWords.html">Avoiding SQL reserved words in the model definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Caching.html">SQLObject Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Gotchas.html">SQLObject &#8220;gotcha&#8217;s&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/StoringAndRetrievingFiles.html">Storing and Retrieving Files from a Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Views.html">Views in SQLObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/VsHibernate.html">Hibernate vs SqlObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLAlchemy/Configuration.html">SQLAlchemy Configuration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Overview.html">Widgets Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/index.html">Guide to the TurboGears Widgets Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Browser.html">WidgetBrowser</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Explore.html">Dive Into Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/SimpleForm.html">Simple Widget Form Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/FormValidationWithSchemas.html">Widget Form Validation with Schemas</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/ModifyDefaults.html">Changing Widget Defaults at Run Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/DynamicForm.html">Dynamically Modifying a Form&#8217;s Widgets With Ajax</a></li>
<li class="toctree-l1"><a class="reference internal" href="DynamicValidation.html">Dynamic Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Packages.html">Widget Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/StatelessWidgets.html">StatelessWidgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/DataGrid.html">DataGrid</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/AjaxGrid.html">Ajax Grid Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/AutoCompleteField.html">The AutoCompleteField Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/RemoteForm.html">RemoteForm Widget Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/RemoteLink.html">Wrap Ajax Operations in Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/CompoundWidgets.html">Implementing and using CompoundWidgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/RepeatingFieldSet.html">RepeatingFieldSet Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/CalendarDatePicker.html">CalendarDatePicker Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/NicerForms.html">Nicer Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="FastData/index.html">FastData</a></li>
<li class="toctree-l1"><a class="reference internal" href="FastData/DataController.html">DataController</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Recipes.html">Widget Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Tips.html">Widget Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="ToscaWidgets.html">Using ToscaWidgets in TurboGears 1.0</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Visit/index.html">Using the Visit Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="Visit/Extending.html">Extending the Visit Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="Visit/UserTrackedLogging.html">User Tracked Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="Visit/PermanentLogin.html">Permanent Login</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/index.html">Identity Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/GettingStarted.html">Getting Started With Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/Usage.html">Using Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/EncryptedPassword.html">Using Identity with Encrypted Passwords</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/Recipes.html">Identity Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/OpenID.html">OpenID Authentication with TurboGears Identity</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Testing.html">Testing Your Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="LoggingSystem.html">Understanding the Logging System</a></li>
<li class="toctree-l1"><a class="reference internal" href="ErrorReporting.html">Custom Error Reporting</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Debugging.html">Debugging a TurboGears Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="DummyTemplate.html">Dummy Kid Template for Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Debug.html">SQLObject Debugging</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Optimization.html">Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="CachingTechniques.html">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="GzipCompressing.html">Gzip Compressing Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="UsingPylint.html">Using Pylint to Improve the Quality of Your Code</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Toolbox.html">TurboGears Toolbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="Admi18n.html">The Admi18n Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="Catwalk.html">CatWalk</a></li>
<li class="toctree-l1"><a class="reference internal" href="FastData/DataController.html">DataController</a></li>
<li class="toctree-l1"><a class="reference internal" href="VersionInfo.html">Toolbox Info</a></li>
<li class="toctree-l1"><a class="reference internal" href="ModelDesigner.html">ModelDesigner</a></li>
<li class="toctree-l1"><a class="reference internal" href="WebConsole.html">Web Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Browser.html">WidgetBrowser</a></li>
<li class="toctree-l1"><a class="reference internal" href="DreamWeaverIntegration.html">DreamWeaver Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="VimIntegration.html">Vim Editor Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FlashNotes.html">Using Flash Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="JsonifyDecorator.html">The <tt class="docutils literal"><span class="pre">jsonify</span></tt> Decorator</a></li>
<li class="toctree-l1"><a class="reference internal" href="Internationalization.html">Internationalizing your application</a></li>
<li class="toctree-l1"><a class="reference internal" href="UnicodeTips.html">Tips for Using Non-ASCII Characters in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="Scheduler.html">Scheduling Tasks with TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="ErrorReporting.html">Custom Error Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="ZeroConfSupport.html">Zeroconf support in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="StartupHook.html">Startup Hook</a></li>
<li class="toctree-l1"><a class="reference internal" href="CRUDTemplate.html">CRUD Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="RESTfulPath.html">RESTful URLs with TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="RESTfulPaginate.html">RESTful Pagination Using the Paginate Decorator</a></li>
<li class="toctree-l1"><a class="reference internal" href="WebServices.html">WebServices with TGWebServices</a></li>
<li class="toctree-l1"><a class="reference internal" href="OAuthAuthentication.html">Validating Signed Requests from OpenSocial Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="GenerateFigures.html">Generating Graphs and Figures in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="FileUploadTutorial.html">File Upload Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="FileUploadProgressBar.html">File Upload Progress Bar</a></li>
<li class="toctree-l1"><a class="reference internal" href="AlternativeComponents.html">Alternative Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/UseElixir.html">Getting Started with Elixir</a></li>
<li class="toctree-l1"><a class="reference internal" href="RoutesIntegration.html">Using Routes with TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="EntryPointList.html">TurboGears Entry Point list</a></li>
<li class="toctree-l1"><a class="reference internal" href="MakingYourAppExtensible.html">Making Extensible Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="TurboGearsAndMicroApps.html">What does this have to do with TurboGears?</a></li>
<li class="toctree-l1"><a class="reference internal" href="TurboGearsAndMicroApps.html#an-example-is-worth-a-thousand-pages-worth-of-blather">An example is worth a thousand pages worth of blather</a></li>
<li class="toctree-l1"><a class="reference internal" href="TurboGearsAndMicroApps.html#now-for-the-bad-news">Now for the bad news</a></li>
<li class="toctree-l1"><a class="reference internal" href="UsingSphinx.html">Using Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="CookieDefault.html">Cookie Default</a></li>
<li class="toctree-l1"><a class="reference internal" href="ConvertCookies.html">Converting Between Cookie Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="ExtraRequestParams.html">Handling Extra Request Parameters With CherryPy Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="RouteByHttpMethod.html">Routing Requests According to HTTP Request Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="VirtualHost.html">Virtual Host</a></li>
<li class="toctree-l1"><a class="reference internal" href="GenshiRenderingWithoutExpose.html">Genshi Rendering without using &#64;expose()</a></li>
<li class="toctree-l1"><a class="reference internal" href="ServeDynamicFiles.html">Serving Dynamically Generated Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="HybridNestedSetModel.html">Hybrid Nested Set Model for Hierarchical Storage of SQLObject Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="SockFile.html">Connecting to MySQL via a socket file</a></li>
<li class="toctree-l1"><a class="reference internal" href="SelectingOption.html">Setting the selected option of a SELECT element</a></li>
<li class="toctree-l1"><a class="reference internal" href="DojoIEWorkaround.html">Dojo / IE workaround</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Philosophy.html">TurboGears Project Philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="Plugins.html">TurboGears Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="TemplatePlugins.html">Writing a Template Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="CommandPlugins.html"><tt class="docutils literal"><span class="pre">tg-admin</span></tt> Command Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="ExtendingQuickstart.html">Extending Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="License.html">TurboGears Licenses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ThirdParty.html">ThirdParty Components Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html">API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ChangeLog.html">TurboGears Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TGBooks.html">TurboGears Books</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TGArticles.html">TuboGears Articles</a></li>
<li class="toctree-l1"><a class="reference internal" href="PresentationMaterial.html">TurboGears presentation material</a></li>
</ul>

        </div>
      </div>


    <div class="document">
  <div class="documentwrapper">
    <div class="body headerfix">
      
  <div class="section" id="creating-big-applications">
<h1><a class="toc-backref" href="#id1">Creating Big Applications</a><a class="headerlink" href="#creating-big-applications" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#creating-big-applications" id="id1">Creating Big Applications</a><ul>
<li><a class="reference internal" href="#overview" id="id2">Overview</a></li>
<li><a class="reference internal" href="#dividing-the-controller-into-separate-classes" id="id3">Dividing the Controller into Separate Classes</a></li>
<li><a class="reference internal" href="#dividing-the-project-into-separate-modules" id="id4">Dividing the Project into Separate Modules</a></li>
<li><a class="reference internal" href="#organizing-templates-into-sub-directories" id="id5">Organizing Templates Into Sub-directories</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id2">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Many TurboGears applications are small and quite simple like a small wiki or
blog. For these projects, the default project layout as generated by <tt class="docutils literal"><span class="pre">tg-admin</span>
<span class="pre">quickstart</span></tt> is sufficient. But sometimes you need more: multiple databases,
several controllers and dozens of tables. Fortunately, TurboGears provides means
to adapt your project layout to bigger projects.</p>
</div>
<div class="section" id="dividing-the-controller-into-separate-classes">
<h2><a class="toc-backref" href="#id3">Dividing the Controller into Separate Classes</a><a class="headerlink" href="#dividing-the-controller-into-separate-classes" title="Permalink to this headline">¶</a></h2>
<p>The first thing you can do to re-structure a controller class that is getting
too big is to swap out methods for handling complete URL sub-trees into
separate sub-controller classes. Let&#8217;s look at a simple example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">turbogears</span> <span class="kn">import</span> <span class="n">controllers</span><span class="p">,</span> <span class="n">expose</span>
<span class="kn">from</span> <span class="nn">turbogears</span> <span class="kn">import</span> <span class="n">redirect</span>

<span class="c"># sub controller class</span>
<span class="k">class</span> <span class="nc">SubController</span><span class="p">(</span><span class="n">controllers</span><span class="o">.</span><span class="n">Controller</span><span class="p">):</span>
    <span class="nd">@expose</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&quot;&lt;h2&gt;Hello TurboGears&lt;/h2&gt;&quot;</span>

    <span class="nd">@expose</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="c"># redirect to front page</span>
        <span class="n">redirect</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span>

<span class="c"># main controller class</span>
<span class="k">class</span> <span class="nc">Root</span><span class="p">(</span><span class="n">controllers</span><span class="o">.</span><span class="n">RootController</span><span class="p">):</span>
    <span class="nd">@expose</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;</span>

    <span class="nd">@expose</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&quot;This page is not ready&quot;</span>

    <span class="n">sub</span> <span class="o">=</span> <span class="n">SubController</span><span class="p">()</span>
</pre></div>
</div>
<p>You see that in addition to the <tt class="docutils literal"><span class="pre">Root</span></tt> controller class, there is another
controller class named <tt class="docutils literal"><span class="pre">SubController</span></tt> (inheriting from
<tt class="docutils literal"><span class="pre">controllers.Controller</span></tt>), which has its own exposed method. This class
is instantiated and &#8220;attached&#8221; to the root controller in the last line:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sub</span> <span class="o">=</span> <span class="n">SubController</span><span class="p">()</span>
</pre></div>
</div>
<p>This is called &#8220;mounting&#8221; a sub-controller, in CherryPy-speak.</p>
<p>With this setup, your application will invoke the exposed methods of the
<tt class="docutils literal"><span class="pre">SubController</span></tt> class whenever a URL below <tt class="docutils literal"><span class="pre">/sub</span></tt> is requested. In the
example, when you access a URL like</p>
<ul class="simple">
<li><a class="reference external" href="http://localhost:8080/sub">http://localhost:8080/sub</a></li>
<li><a class="reference external" href="http://localhost:8080/sub/">http://localhost:8080/sub/</a></li>
<li><a class="reference external" href="http://localhost:8080/sub/index">http://localhost:8080/sub/index</a></li>
</ul>
<p>They will all return &#8220;<tt class="docutils literal"><span class="pre">&lt;h2&gt;Hello</span> <span class="pre">TurboGears&lt;/h2&gt;</span></tt>&#8221; since they will all be
mapped to the <tt class="docutils literal"><span class="pre">index()</span></tt> method of the <tt class="docutils literal"><span class="pre">SubController</span></tt> instance referenced
by the <tt class="docutils literal"><span class="pre">sub</span></tt> attribute of the <tt class="docutils literal"><span class="pre">Root</span></tt> class.</p>
<p>But if you access e.g. <tt class="docutils literal"><span class="pre">http://localhost:8080/sub/oops</span></tt>, you&#8217;ll be redirected
to the front page (<tt class="docutils literal"><span class="pre">http://localhost:8080/</span></tt>), since there is no dedicated
method handling this URL and it is therefore handled by the <tt class="docutils literal"><span class="pre">default</span></tt> method
of <tt class="docutils literal"><span class="pre">SubController</span></tt>.</p>
<p>If you wish, you can think of this technique as if you were creating a folder
named &#8220;<tt class="docutils literal"><span class="pre">sub</span></tt>&#8221; under your web space, but since controller methods are neither
directories nor files, the proper way to describe this is: you name the
<tt class="docutils literal"><span class="pre">SubController</span></tt> object as <tt class="docutils literal"><span class="pre">sub</span></tt>, and thereby <em>mount</em> it on the
<tt class="docutils literal"><span class="pre">Root</span></tt> object under the URL <tt class="docutils literal"><span class="pre">/sub</span></tt>.</p>
<p>Also, we imported and used another helpful utility, <tt class="docutils literal"><span class="pre">turbogears.redirect</span></tt> here
to redirect to the front-page from the <tt class="docutils literal"><span class="pre">default</span></tt> method in the
<tt class="docutils literal"><span class="pre">SubController</span></tt> class.</p>
</div>
<div class="section" id="dividing-the-project-into-separate-modules">
<h2><a class="toc-backref" href="#id4">Dividing the Project into Separate Modules</a><a class="headerlink" href="#dividing-the-project-into-separate-modules" title="Permalink to this headline">¶</a></h2>
<p>In a small application, one module each for all controller and model classes is
all you need. In a larger application, you will likely want to break up your
application into separate packages, e.g. you will want to have <tt class="docutils literal"><span class="pre">controllers</span></tt>
and a <tt class="docutils literal"><span class="pre">model</span></tt> sub-package below your application&#8217;s main package.</p>
<p>Fortunately, Python provides a way to organize modules into <a class="reference external" href="http://docs.python.org/tut/node8.html#SECTION008400000000000000000">packages</a> under a
common name-space to handle this situation. Let&#8217;s see how we can apply this
to the controller and the model.</p>
<div class="section" id="splitting-the-controller">
<h3>Splitting the Controller<a class="headerlink" href="#splitting-the-controller" title="Permalink to this headline">¶</a></h3>
<div class="section" id="letting-quickstart-do-the-work">
<h4>Letting quickstart do the Work<a class="headerlink" href="#letting-quickstart-do-the-work" title="Permalink to this headline">¶</a></h4>
<p>If you know from the beginning that you will have several big controller classes
and your project will need more structure, you can use the &#8220;<tt class="docutils literal"><span class="pre">tgbig</span></tt>&#8221; template
when you <a class="reference external" href="http://docs.turbogears.org/1.0/TgAdmin#quickstart-create-a-new-project">create your project</a> by issuing the following command:</p>
<div class="highlight-python"><pre>tg-admin quickstart -t tgbig</pre>
</div>
<p>After that you will have a directory structure where all controllers are located
in a <tt class="docutils literal"><span class="pre">controllers</span></tt> sub-package directory and you can add more controller
modules easily (see below).</p>
</div>
<div class="section" id="creating-a-controllers-package-manually">
<h4>Creating a <tt class="docutils literal"><span class="pre">controllers</span></tt> Package Manually<a class="headerlink" href="#creating-a-controllers-package-manually" title="Permalink to this headline">¶</a></h4>
<p>When you didn&#8217;t set up your project with the <tt class="docutils literal"><span class="pre">tgbig</span></tt> template from the start,
you can still easily turn the <tt class="docutils literal"><span class="pre">controllers</span></tt> module into a package by following
these steps:</p>
<ul>
<li><p class="first">Create a directory named <tt class="docutils literal"><span class="pre">controllers</span></tt> in your application&#8217;s main package
directory.</p>
</li>
<li><p class="first">Move the <tt class="docutils literal"><span class="pre">controllers.py</span></tt> module into this directory.</p>
</li>
<li><p class="first">Rename <tt class="docutils literal"><span class="pre">controllers.py</span></tt> to <tt class="docutils literal"><span class="pre">root.py</span></tt>.</p>
</li>
<li><p class="first">Create a file <tt class="docutils literal"><span class="pre">controllers/__init__.py</span></tt> with the following content:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">root</span> <span class="kn">import</span> <span class="n">Root</span>
</pre></div>
</div>
</li>
</ul>
<p>You can then add additional modules to the <tt class="docutils literal"><span class="pre">controllers</span></tt> package by creating
new <tt class="docutils literal"><span class="pre">.py</span></tt> files in the <tt class="docutils literal"><span class="pre">controllers</span></tt> directory and placing your
sub-controller classes to them. You&#8217;ll want to use divisions that make sense for
you. You can still import the controllers from your various packages into your
main <tt class="docutils literal"><span class="pre">controllers</span></tt> module, if you like them to be all available in one place.
For example, if you have the following package structure:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">controllers</span><span class="o">/</span><span class="n">__init__</span><span class="o">.</span><span class="n">py</span>
<span class="n">controllers</span><span class="o">/</span><span class="n">root</span><span class="o">.</span><span class="n">py</span>
<span class="n">controllers</span><span class="o">/</span><span class="n">documents</span><span class="o">.</span><span class="n">py</span>
<span class="n">controllers</span><span class="o">/</span><span class="n">registration</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Then your <tt class="docutils literal"><span class="pre">&lt;yourpackage&gt;/controller/__init__.py</span></tt> could look like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">root</span> <span class="kn">import</span> <span class="n">Root</span>
<span class="kn">from</span> <span class="nn">documents</span> <span class="kn">import</span> <span class="n">DocumentsController</span>
<span class="kn">from</span> <span class="nn">registration</span> <span class="kn">import</span> <span class="n">RegistrationController</span>
</pre></div>
</div>
<p>Of course you have to mount the sub-controller classes from your controller
modules to your root controller, so that they are callable through URLs. This
is how your root controller class might look like for the package structure
shown above:</p>
<div class="highlight-python"><pre>from turbogears import controllers, expose

from documents import DocumentsController
from registration import RegistrationController


class Root(controllers.Rootcontroller):
    documents = DocumentsController()
    registration = RegistrationController()

    @expose(...)
    def index(self):
       #...</pre>
</div>
</div>
</div>
<div class="section" id="splitting-the-model">
<h3>Splitting the Model<a class="headerlink" href="#splitting-the-model" title="Permalink to this headline">¶</a></h3>
<p>The same technique shown above to create a <tt class="docutils literal"><span class="pre">controllers</span></tt> package can be
applied to distribute the model across multiple module files.</p>
<p>Internally, TurboGears expects that there is a loadable module in
<tt class="docutils literal"><span class="pre">&lt;yourpackage&gt;.model</span></tt>. It doesn&#8217;t care whether this is a single-file module
or a multi-file package, as long as it can import your model classes directly
from the <tt class="docutils literal"><span class="pre">&lt;yourpackage&gt;.model</span></tt> namespace.</p>
<p>So here are the steps again to create a package, adapted for the <tt class="docutils literal"><span class="pre">model</span></tt>
module:</p>
<ul>
<li><p class="first">Create a directory named <tt class="docutils literal"><span class="pre">model</span></tt> in your application&#8217;s main package
directory.</p>
</li>
<li><p class="first">Move the <tt class="docutils literal"><span class="pre">model.py</span></tt> module into this directory.</p>
</li>
<li><p class="first">Rename <tt class="docutils literal"><span class="pre">model.py</span></tt> to <tt class="docutils literal"><span class="pre">base.py</span></tt>.</p>
</li>
<li><p class="first">Create a file <tt class="docutils literal"><span class="pre">model/__init__.py</span></tt> with the following content:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">base</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</li>
</ul>
<p>Now you can add more modules with additional model classes. Say, for example,
your application&#8217;s main package is called <tt class="docutils literal"><span class="pre">blog</span></tt> and you have two
modules, <tt class="docutils literal"><span class="pre">public.py</span></tt> and <tt class="docutils literal"><span class="pre">internal.py</span></tt>, which contain additional model
classes. Then you have to put these two files in the <tt class="docutils literal"><span class="pre">model</span></tt> directory and
your <tt class="docutils literal"><span class="pre">model/__init__.py</span></tt> should contain something like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">blog.model.base</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">blog.model.public</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">blog.model.internal</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>If you are using TurboGears&#8217; identity functionality than you have to update
the following parameters:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">visit</span><span class="o">.</span><span class="n">saprovider</span><span class="o">.</span><span class="n">model</span>
<span class="n">identity</span><span class="o">.</span><span class="n">saprovider</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">visit</span>
<span class="n">identity</span><span class="o">.</span><span class="n">saprovider</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">user</span>
<span class="n">identity</span><span class="o">.</span><span class="n">saprovider</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">group</span>
<span class="n">identity</span><span class="o">.</span><span class="n">saprovider</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">permission</span>
</pre></div>
</div>
<p>in the config/app.cfg file.</p>
<p>If you&#8217;re using SQLObject, then in order to use the admin tools, you will also
have to add all the modules to the <tt class="docutils literal"><span class="pre">db_module</span></tt> setting in
<tt class="docutils literal"><span class="pre">&lt;yourpackage&gt;.egg-inf/sqlobject.txt</span></tt>, each separated by a comma. I.e. for
this example, the setting should be changed to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">db_module</span><span class="o">=</span><span class="n">blog</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">base</span><span class="p">,</span><span class="n">blog</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">public</span><span class="p">,</span><span class="n">blog</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">internal</span>
</pre></div>
</div>
<p>Now you are done! To see if everything worked correctly, type <tt class="docutils literal"><span class="pre">tg-admin</span> <span class="pre">sql</span>
<span class="pre">list</span></tt> in the root directory of your TurboGears project. If everything worked,
all classes in your model files should be listed here.</p>
</div>
</div>
<div class="section" id="organizing-templates-into-sub-directories">
<h2><a class="toc-backref" href="#id5">Organizing Templates Into Sub-directories</a><a class="headerlink" href="#organizing-templates-into-sub-directories" title="Permalink to this headline">¶</a></h2>
<p>When you have many templates you might want to organize them into
sub-directories below the <tt class="docutils literal"><span class="pre">&lt;youpackage&gt;/templates</span></tt> directory, grouping
together, for example, templates for each controller into a separate
sub-directory.</p>
<p>Templates are looked up by the template engines via the normal <a class="reference external" href="http://docs.python.org/tut/node8.html#SECTION008400000000000000000">Python package
mechanisms</a> and the templates directory is therefore just a Python
package and templates are the &#8220;modules&#8221; in this package. Therefore,
sub-directories have to be sub-packages and you can achieve that by placing an
<tt class="docutils literal"><span class="pre">__init__.py</span></tt> file in them. The <tt class="docutils literal"><span class="pre">__init__.py</span></tt> can contain Python code, but
an empty file will do just as well.</p>
<p>Example directory layout:</p>
<div class="highlight-python"><pre>&lt;yourpackage&gt;
&lt;yourpackage&gt;/templates
&lt;yourpackage&gt;/templates/__init__.py
&lt;yourpackage&gt;/templates/index.kid
&lt;yourpackage&gt;/templates/master.kid
&lt;yourpackage&gt;/templates/subpackage
&lt;yourpackage&gt;/templates/subpackage/__init__.py
&lt;yourpackage&gt;/templates/subpackage/index.kid
&lt;yourpackage&gt;/templates/subpackage/foo.kid</pre>
</div>
<p>In your controller methods you then refer to the templates in <tt class="docutils literal"><span class="pre">&quot;subpackage&quot;</span></tt>
via the normal dotted-path notation:</p>
<div class="highlight-python"><pre>class MyController(controllers.Controller):

    @expose('&lt;yourpackage&gt;.templates.subpackage.index')
    def index(self):
       # ...</pre>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>The default templates in a quickstarted project inherit from the
<tt class="docutils literal"><span class="pre">master.kid</span></tt> template in the same directory. When you want templates in
sub-directories to inherit from the same <tt class="docutils literal"><span class="pre">master.kid</span></tt>, you have to adapt
the path to the master template in the <tt class="docutils literal"><span class="pre">py:extends</span></tt> attribute of the
<tt class="docutils literal"><span class="pre">html</span></tt> element. For example:</p>
<div class="last highlight-python"><pre>&lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:py="http://purl.org/kid/ns#"
    py:extends="'../master.kid'"&gt;</pre>
</div>
</div>
</div>
</div>


    </div>
  </div>
      <div class="clearer"></div>
    </div>
  <div class="footer"><span>
      &copy; Copyright 
      by the <a href="">TurboGears</a> Doc Team.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
  </span></div>
  <script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script>
  <script type="text/javascript">
  try {
  var pageTracker = _gat._getTracker("UA-7088080-2");
  pageTracker._trackPageview();
  } catch(err) {}</script>
  </body>
</html>