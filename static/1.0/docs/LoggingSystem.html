
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Understanding the Logging System &mdash; TurboGears 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/tg.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <script type="text/javascript" src="_static/header.js"></script>
    <link rel="top" title="TurboGears 1.0 documentation" href="index.html" />
    <link rel="next" title="Custom Error Reporting" href="ErrorReporting.html" />
    <link rel="prev" title="Testing Your Application" href="Testing.html" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ErrorReporting.html" title="Custom Error Reporting"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Testing.html" title="Testing Your Application"
             accesskey="P">previous</a> |</li>
<li><a href="index.html">TurboGears 1.0 documentation</a> &raquo;</li>
<li id="searchbox" style="display: none; margin: 0 20px;" class="right">
  <form class="search" action="search.html" method="get">
    <span>Search:</span>
    <input type="text" name="q" size="18" />
    <input type="submit" value="Go" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</li>
<script type="text/javascript">$('#searchbox').show(0);</script>
 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">TurboGears 1.0 FAQ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Install/index.html">Downloading and Installing TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="Install/Deployment.html">Deploying TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="Database/index.html">Database Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/BigPicture.html">The Big Picture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TGScreencasts.html">TurboGears Screencasts</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Wiki20/Page1.html">The 20 Minutes Wiki</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Controller.html">Controller Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Arguments.html">I Wanted An Argument!</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/UseDatabase.html">Data Model Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Kid.html">A Brief Introduction to Kid Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/MochiKit.html">A Brief Introduction to MochiKit</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Identity/GettingStarted.html">Getting Started With Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Introduction.html">Introduction To Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/SimpleForm.html">Simple Widget Form Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="FileUploadTutorial.html">File Upload Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="ToDoListTutorial.html">Brian&#8217;s TurboGears Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TgAdmin.html">tg-admin command line tool reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="QuickStart.html">Are you ready to gear up?</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Server.html">Starting Up The Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="Configuration.html">TurboGears Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="CreatingBigApplications.html">Creating Big Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="SpecificProblems.html">Solving specific problems</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Arguments.html">I Wanted An Argument!</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/URLs.html">Using URLs</a></li>
<li class="toctree-l1"><a class="reference internal" href="CreatingBigApplications.html">Creating Big Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="RequestResponse.html">Access Request/Response Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="StaticFiles.html">Serving Static Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="Cookies.html">Using Cookies in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sessions.html">Using Sessions in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="FeedController.html">Serving RSS and Atom feeds</a></li>
<li class="toctree-l1"><a class="reference internal" href="UnifiedControllers.html">Unified Form Data Validation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ExposeDecorator.html">&#64;expose()</a></li>
<li class="toctree-l1"><a class="reference internal" href="ValidateDecorator.html">&#64;validate()</a></li>
<li class="toctree-l1"><a class="reference internal" href="ErrorHandling.html">Error Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/Usage.html">Using Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="PaginateDecorator.html">&#64;paginate()</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="StdVars.html"><tt class="docutils literal"><span class="pre">stdvars</span></tt>: Global Template Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="HeadersFooters.html">Application-wide Headers and Footers</a></li>
<li class="toctree-l1"><a class="reference internal" href="JSON.html">JSON Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="Designer.html">Designer-Friendly Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="DummyTemplate.html">Dummy Kid Template for Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="KidHTMLEntities.html">HTML Entities in Kid templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="CheckedCheckBox.html">Automatically Checking a Checkbox or Radio Button</a></li>
<li class="toctree-l1"><a class="reference internal" href="BreadCrumb.html">Breadcrumb Style Navigation</a></li>
<li class="toctree-l1"><a class="reference internal" href="CreatingBigApplications.html">Creating Big Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="NonPackagedKidTemplates.html">Loading Kid templates from outside your application package</a></li>
<li class="toctree-l1"><a class="reference internal" href="GenshiInternationalizationWithBabel.html">Genshi Templates Internationalization with Babel</a></li>
<li class="toctree-l1"><a class="reference internal" href="AdvancedCheetahTemplates.html">Templates for using TurboCheetah with TurboGears</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/DefineDatabase.html">Data Model Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="BackEndOverview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="BackEndOverview.html#supported-backends">Supported backends</a></li>
<li class="toctree-l1"><a class="reference internal" href="DbUri.html">The DB-URI</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/index.html">SQLObject Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="TgAdminSqlUpgrade.html">How to Use <tt class="docutils literal"><span class="pre">tgadmin</span> <span class="pre">sql</span> <span class="pre">upgrade</span></tt> with SQLObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="ModelOutsideTG.html">Using Your Model Outside of TurboGears Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="MultipleDatabases.html">Using Multiple Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/AutoUpdateField.html">Auto-updating an attribute with SQLObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Debug.html">SQLObject Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/DirectSQL.html">SQLObject direct SQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/ForeignKeys.html">SQLObject Foreign Keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/QuickGuide.html">SQLObject Quick Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/ReservedWords.html">Avoiding SQL reserved words in the model definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Caching.html">SQLObject Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Gotchas.html">SQLObject &#8220;gotcha&#8217;s&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/StoringAndRetrievingFiles.html">Storing and Retrieving Files from a Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Views.html">Views in SQLObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/VsHibernate.html">Hibernate vs SqlObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLAlchemy/Configuration.html">SQLAlchemy Configuration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Overview.html">Widgets Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/index.html">Guide to the TurboGears Widgets Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Browser.html">WidgetBrowser</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Explore.html">Dive Into Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/SimpleForm.html">Simple Widget Form Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/FormValidationWithSchemas.html">Widget Form Validation with Schemas</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/ModifyDefaults.html">Changing Widget Defaults at Run Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/DynamicForm.html">Dynamically Modifying a Form&#8217;s Widgets With Ajax</a></li>
<li class="toctree-l1"><a class="reference internal" href="DynamicValidation.html">Dynamic Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Packages.html">Widget Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/StatelessWidgets.html">StatelessWidgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/DataGrid.html">DataGrid</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/AjaxGrid.html">Ajax Grid Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/AutoCompleteField.html">The AutoCompleteField Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/RemoteForm.html">RemoteForm Widget Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/RemoteLink.html">Wrap Ajax Operations in Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/CompoundWidgets.html">Implementing and using CompoundWidgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/RepeatingFieldSet.html">RepeatingFieldSet Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/CalendarDatePicker.html">CalendarDatePicker Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/NicerForms.html">Nicer Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="FastData/index.html">FastData</a></li>
<li class="toctree-l1"><a class="reference internal" href="FastData/DataController.html">DataController</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Recipes.html">Widget Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Tips.html">Widget Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="ToscaWidgets.html">Using ToscaWidgets in TurboGears 1.0</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Visit/index.html">Using the Visit Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="Visit/Extending.html">Extending the Visit Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="Visit/UserTrackedLogging.html">User Tracked Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="Visit/PermanentLogin.html">Permanent Login</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/index.html">Identity Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/GettingStarted.html">Getting Started With Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/Usage.html">Using Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/EncryptedPassword.html">Using Identity with Encrypted Passwords</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/Recipes.html">Identity Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/OpenID.html">OpenID Authentication with TurboGears Identity</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Testing.html">Testing Your Application</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Understanding the Logging System</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#using-the-logging-system">Using the logging system</a></li>
<li class="toctree-l2"><a class="reference internal" href="#why-not-just-use-logging-debug-msg">Why not just use logging.debug(msg)?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configure-turbogears-cfg-files">Configure TurboGears .cfg files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#putting-it-all-together">Putting it all together</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logging-config-format">Logging config format</a></li>
<li class="toctree-l2"><a class="reference internal" href="#formatters">Formatters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#handlers">Handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loggers">Loggers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ErrorReporting.html">Custom Error Reporting</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Debugging.html">Debugging a TurboGears Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="DummyTemplate.html">Dummy Kid Template for Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Debug.html">SQLObject Debugging</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Optimization.html">Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="CachingTechniques.html">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="GzipCompressing.html">Gzip Compressing Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="UsingPylint.html">Using Pylint to Improve the Quality of Your Code</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Toolbox.html">TurboGears Toolbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="Admi18n.html">The Admi18n Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="Catwalk.html">CatWalk</a></li>
<li class="toctree-l1"><a class="reference internal" href="FastData/DataController.html">DataController</a></li>
<li class="toctree-l1"><a class="reference internal" href="VersionInfo.html">Toolbox Info</a></li>
<li class="toctree-l1"><a class="reference internal" href="ModelDesigner.html">ModelDesigner</a></li>
<li class="toctree-l1"><a class="reference internal" href="WebConsole.html">Web Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Browser.html">WidgetBrowser</a></li>
<li class="toctree-l1"><a class="reference internal" href="DreamWeaverIntegration.html">DreamWeaver Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="VimIntegration.html">Vim Editor Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FlashNotes.html">Using Flash Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="JsonifyDecorator.html">The <tt class="docutils literal"><span class="pre">jsonify</span></tt> Decorator</a></li>
<li class="toctree-l1"><a class="reference internal" href="Internationalization.html">Internationalizing your application</a></li>
<li class="toctree-l1"><a class="reference internal" href="UnicodeTips.html">Tips for Using Non-ASCII Characters in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="Scheduler.html">Scheduling Tasks with TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="ErrorReporting.html">Custom Error Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="ZeroConfSupport.html">Zeroconf support in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="StartupHook.html">Startup Hook</a></li>
<li class="toctree-l1"><a class="reference internal" href="CRUDTemplate.html">CRUD Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="RESTfulPath.html">RESTful URLs with TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="RESTfulPaginate.html">RESTful Pagination Using the Paginate Decorator</a></li>
<li class="toctree-l1"><a class="reference internal" href="WebServices.html">WebServices with TGWebServices</a></li>
<li class="toctree-l1"><a class="reference internal" href="OAuthAuthentication.html">Validating Signed Requests from OpenSocial Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="GenerateFigures.html">Generating Graphs and Figures in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="FileUploadTutorial.html">File Upload Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="FileUploadProgressBar.html">File Upload Progress Bar</a></li>
<li class="toctree-l1"><a class="reference internal" href="AlternativeComponents.html">Alternative Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/UseElixir.html">Getting Started with Elixir</a></li>
<li class="toctree-l1"><a class="reference internal" href="RoutesIntegration.html">Using Routes with TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="EntryPointList.html">TurboGears Entry Point list</a></li>
<li class="toctree-l1"><a class="reference internal" href="MakingYourAppExtensible.html">Making Extensible Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="TurboGearsAndMicroApps.html">What does this have to do with TurboGears?</a></li>
<li class="toctree-l1"><a class="reference internal" href="TurboGearsAndMicroApps.html#an-example-is-worth-a-thousand-pages-worth-of-blather">An example is worth a thousand pages worth of blather</a></li>
<li class="toctree-l1"><a class="reference internal" href="TurboGearsAndMicroApps.html#now-for-the-bad-news">Now for the bad news</a></li>
<li class="toctree-l1"><a class="reference internal" href="UsingSphinx.html">Using Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="CookieDefault.html">Cookie Default</a></li>
<li class="toctree-l1"><a class="reference internal" href="ConvertCookies.html">Converting Between Cookie Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="ExtraRequestParams.html">Handling Extra Request Parameters With CherryPy Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="RouteByHttpMethod.html">Routing Requests According to HTTP Request Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="VirtualHost.html">Virtual Host</a></li>
<li class="toctree-l1"><a class="reference internal" href="GenshiRenderingWithoutExpose.html">Genshi Rendering without using &#64;expose()</a></li>
<li class="toctree-l1"><a class="reference internal" href="ServeDynamicFiles.html">Serving Dynamically Generated Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="HybridNestedSetModel.html">Hybrid Nested Set Model for Hierarchical Storage of SQLObject Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="SockFile.html">Connecting to MySQL via a socket file</a></li>
<li class="toctree-l1"><a class="reference internal" href="SelectingOption.html">Setting the selected option of a SELECT element</a></li>
<li class="toctree-l1"><a class="reference internal" href="DojoIEWorkaround.html">Dojo / IE workaround</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Philosophy.html">TurboGears Project Philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="Plugins.html">TurboGears Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="TemplatePlugins.html">Writing a Template Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="CommandPlugins.html"><tt class="docutils literal"><span class="pre">tg-admin</span></tt> Command Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="ExtendingQuickstart.html">Extending Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="License.html">TurboGears Licenses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ThirdParty.html">ThirdParty Components Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html">API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ChangeLog.html">TurboGears Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TGBooks.html">TurboGears Books</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TGArticles.html">TuboGears Articles</a></li>
<li class="toctree-l1"><a class="reference internal" href="PresentationMaterial.html">TurboGears presentation material</a></li>
</ul>

        </div>
      </div>


    <div class="document">
  <div class="documentwrapper">
    <div class="body headerfix">
      
  <div class="section" id="understanding-the-logging-system">
<span id="index-0"></span><h1><a class="toc-backref" href="#id2">Understanding the Logging System</a><a class="headerlink" href="#understanding-the-logging-system" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#understanding-the-logging-system" id="id2">Understanding the Logging System</a><ul>
<li><a class="reference internal" href="#using-the-logging-system" id="id3">Using the logging system</a></li>
<li><a class="reference internal" href="#why-not-just-use-logging-debug-msg" id="id4">Why not just use logging.debug(msg)?</a></li>
<li><a class="reference internal" href="#configure-turbogears-cfg-files" id="id5">Configure TurboGears .cfg files</a></li>
<li><a class="reference internal" href="#putting-it-all-together" id="id6">Putting it all together</a></li>
<li><a class="reference internal" href="#logging-config-format" id="id7">Logging config format</a></li>
<li><a class="reference internal" href="#formatters" id="id8">Formatters</a></li>
<li><a class="reference internal" href="#handlers" id="id9">Handlers</a></li>
<li><a class="reference internal" href="#loggers" id="id10">Loggers</a></li>
<li><a class="reference internal" href="#conclusion" id="id11">Conclusion</a></li>
</ul>
</li>
</ul>
</div>
<p>TurboGears uses the Python standard library logger module, which you can read
about in detail in the <a class="reference external" href="http://docs.python.org/lib/module-logging.html">official Python library reference</a> .</p>
<p>The default Turbogears logging is defined in two places:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">dev.cfg</span></tt> and <tt class="docutils literal"><span class="pre">prod.cfg</span></tt></p>
<p>From your quickstart directory, contains configuration specific to your
environment.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">&lt;your</span> <span class="pre">package&gt;/config/log.cfg</span></tt></p>
<p>Contains configuration for your logging that won&#8217;t change based on your
environment.</p>
</li>
</ul>
<p>Logging specific configuration is marked by the tag <tt class="docutils literal"><span class="pre">[logging]</span></tt> in both of
these files.</p>
<p>In addition, there is also the configuration file <tt class="docutils literal"><span class="pre">test.cfg</span></tt>. This takes the
role of <tt class="docutils literal"><span class="pre">dev.cfg</span></tt>/<tt class="docutils literal"><span class="pre">prod.cfg</span></tt> when you run the unit tests for your project.</p>
<p>Please note the <tt class="docutils literal"><span class="pre">&lt;your</span> <span class="pre">package&gt;</span></tt> used throughout this doc. Remember to
substitute your app&#8217;s package name when you try these things out for yourself.</p>
<div class="section" id="using-the-logging-system">
<h2><a class="toc-backref" href="#id3">Using the logging system</a><a class="headerlink" href="#using-the-logging-system" title="Permalink to this headline">¶</a></h2>
<p>To get the most out of this section, check out the <a class="reference external" href="http://docs.python.org/lib/module-logging.html">first page</a> of the logging module
documentation.</p>
<p>Two lines in your <tt class="docutils literal"><span class="pre">controllers.py</span></tt> are all you need to get going. First,
create a logger:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">&quot;&lt;your package&gt;.controllers&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>That is the preferred way to create a logger. The param string is the name of
your new logger. Although this could be anything you want, it&#8217;s good practice
to follow a convention and keep your logs organized from the get go. Here we
name the logger after the package/module since this is a unique name.</p>
<p>One way to easily set up logger names by package is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, send some info to our new logger object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;Happy TurboGears Controller Responding For Duty&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Which, as you can read in the official docs, is a log with level 10, the debug
level of severity. You can probably just ignore the level numbers, unless you
want to create log levels of your own.</p>
</div>
<div class="section" id="why-not-just-use-logging-debug-msg">
<h2><a class="toc-backref" href="#id4">Why not just use logging.debug(msg)?</a><a class="headerlink" href="#why-not-just-use-logging-debug-msg" title="Permalink to this headline">¶</a></h2>
<p>Because then you&#8217;d be shorting yourself on the power and flexibility of the
Python logging module.</p>
<p>We want to be able to send our logs to <a class="reference external" href="http://docs.python.org/lib/multiple-destinations.html">Multiple Destinations</a>, as defined by
you. So you can later find out if the error is on your side or on the framework
just by looking at the logs.</p>
<p>You can also send different logs to different places, all without sprinkling
your app code with needless boilerplate code, thanks to the config files.</p>
<p>In general is a better practice to do it the first way and take full advantage
of the Python logging module. If not, it&#8217;s only one extra line of code anyways.</p>
</div>
<div class="section" id="configure-turbogears-cfg-files">
<h2><a class="toc-backref" href="#id5">Configure TurboGears .cfg files</a><a class="headerlink" href="#configure-turbogears-cfg-files" title="Permalink to this headline">¶</a></h2>
<p>Logging configuration with TurboGears&#8217; <tt class="docutils literal"><span class="pre">.cfg</span></tt> files is a bit different from
the &#8220;normal&#8221; way of creating loggers, either by <a class="reference external" href="http://docs.python.org/lib/logging-config-api.html">loggingConfig</a> or
<a class="reference external" href="http://docs.python.org/lib/logging-config-fileformat.html">config files</a>.</p>
<p>So let&#8217;s take a look at the format. This config file is read by <em>ConfigObj</em> and
you can check out the documentation for the <a class="reference external" href="http://www.voidspace.org.uk/python/configobj.html#the-config-file-format">ConfigObj File Format</a> for more
detail. For our purposes here the only difference from standard
library <a class="reference external" href="http://docs.python.org/lib/module-ConfigParser.html">ConfigParser</a> is the nested tags, which will generate a dictionary of
the tag name and fill it with whatever&#8217;s in that nested section.</p>
<p>If you want to explore the goodness of ConfigObj, take a look at the docs,
especially the part about storing Python types in a config file
<a class="reference external" href="http://www.voidspace.org.uk/python/configobj.html#unrepr-mode">storing python types in a config file</a>, which might clear up what&#8217;s going on
in the default log.cfg.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Think of <tt class="docutils literal"><span class="pre">*()</span></tt> as <tt class="docutils literal"><span class="pre">%()</span></tt>, since we can&#8217;t put <tt class="docutils literal"><span class="pre">%()</span></tt> into a config
file.</p>
<p class="last">The reason is that ConfigObj module will interpret <tt class="docutils literal"><span class="pre">%()</span></tt> as something
else.</p>
</div>
</div>
<div class="section" id="putting-it-all-together">
<h2><a class="toc-backref" href="#id6">Putting it all together</a><a class="headerlink" href="#putting-it-all-together" title="Permalink to this headline">¶</a></h2>
<p>The tg-admin quickstart command will create 3 loggers for you:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">your_project</span></tt> - The one we used at the start of this tutorial, prints
<tt class="docutils literal"><span class="pre">DEBUG</span></tt> messages to stdout</li>
<li><tt class="docutils literal"><span class="pre">allinfo</span></tt> - The main logger (note the missing qualname)</li>
<li><tt class="docutils literal"><span class="pre">access</span></tt> - Prints <tt class="docutils literal"><span class="pre">INFO</span></tt> messages to stdout.</li>
</ul>
</div></blockquote>
<p>Let&#8217;s take a look at how TurboGears does it! We&#8217;ll go through file by file.</p>
<p><tt class="docutils literal"><span class="pre">dev.cfg</span></tt>:</p>
<div class="highlight-python"><pre>[logging]

[[loggers]]
[[[&lt;your_package&gt;]]]
level='DEBUG'
qualname='&lt;your package&gt;'
handlers=['debug_out']

[[[allinfo]]]
level='INFO'
handlers=['debug_out']

[[[access]]]
level='INFO'
qualname='turbogears.access'
handlers=['access_out']
propagate=0</pre>
</div>
</div>
<div class="section" id="logging-config-format">
<h2><a class="toc-backref" href="#id7">Logging config format</a><a class="headerlink" href="#logging-config-format" title="Permalink to this headline">¶</a></h2>
<p>In your config files, always start the logging specific stuff with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">logging</span><span class="p">]</span>
</pre></div>
</div>
<p>like in <tt class="docutils literal"><span class="pre">dev/prod.cfg</span></tt>. They&#8217;ll all load up into the same dict thanks to
ConfigObj so in practice defining things in either file is ok.</p>
<p>When all is said and done, you have 3 sections defined somewhere in your config
files like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[[</span><span class="n">formatters</span><span class="p">]]</span>
<span class="p">[[</span><span class="n">handlers</span><span class="p">]]</span>
<span class="p">[[</span><span class="n">loggers</span><span class="p">]]</span>
</pre></div>
</div>
<p>While all three are technically optional, it&#8217;s recommended you have at least
the &#8220;handlers&#8221; and &#8220;loggers&#8221; sections.</p>
<p>Let&#8217;s go over these sections and their keys and what they do. Remember that
these will be read into the dictionary as keyword arguments, so make sure you
keep them unique:</p>
</div>
<div class="section" id="formatters">
<h2><a class="toc-backref" href="#id8">Formatters</a><a class="headerlink" href="#formatters" title="Permalink to this headline">¶</a></h2>
<p>Each subsection within this section should have only one key as per the
following:</p>
<p><em>format</em></p>
<blockquote>
<div>The format string which initializes a <a class="reference external" href="http://docs.python.org/lib/node422.html">Formatter Object</a>. Just like in the
standard docs, but remember to replace <tt class="docutils literal"><span class="pre">%(</span></tt> with <tt class="docutils literal"><span class="pre">*(</span></tt> like we said
above.</div></blockquote>
</div>
<div class="section" id="handlers">
<h2><a class="toc-backref" href="#id9">Handlers</a><a class="headerlink" href="#handlers" title="Permalink to this headline">¶</a></h2>
<p>Each subsection within this section is required to have a class key.</p>
<p><em>class</em></p>
<blockquote>
<div>Should be one of the <a class="reference external" href="http://docs.python.org/lib/node410.html">Handler Objects</a> or a subclass thereof. If you
subclass, you might get some errors from TG since your class is not in
<tt class="docutils literal"><span class="pre">logging.dict</span></tt>.</div></blockquote>
<p><em>args</em></p>
<blockquote>
<div>Parameters pass to each subclass of Handler and will vary based on which on
you pick.</div></blockquote>
<p><em>level</em></p>
<blockquote>
<div>Indicates the logging level of this handler and can be any of the default
levels <tt class="docutils literal"><span class="pre">DEBUG</span></tt>, <tt class="docutils literal"><span class="pre">INFO</span></tt>, <tt class="docutils literal"><span class="pre">WARNING</span></tt>, <tt class="docutils literal"><span class="pre">ERROR</span></tt> and <tt class="docutils literal"><span class="pre">CRITICAL</span></tt>.
With a patch it can also be a string with a level number (Is this fixed
yet?). Defaults to NOTSET.</div></blockquote>
<p><em>formatter</em></p>
<blockquote>
<div>Can be the name of any subsection that you defined under the <a class="reference external" href="http://trac.turbogears.org/turbogears/wiki/logging#Formatters">Formatters</a>
section. Defaults to <tt class="docutils literal"><span class="pre">%(message)s</span></tt>.</div></blockquote>
</div>
<div class="section" id="loggers">
<h2><a class="toc-backref" href="#id10">Loggers</a><a class="headerlink" href="#loggers" title="Permalink to this headline">¶</a></h2>
<p>This is another way to create <a class="reference external" href="http://docs.python.org/lib/node406.html">Logger Objects</a>. You can either define them here or do the calls in your code, it depends on your situation/taste. Code
accomplishing the same thing follow the descriptions of the parameters.</p>
<p><em>qualname</em></p>
<blockquote>
<div>Name of the logger</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">qualname</span><span class="p">:</span>
    <span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">qualname</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
</pre></div>
</div>
<p><em>level</em></p>
<blockquote>
<div>The level threshold for this logger. Levels less severe than this will be
ignored.</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="n">log</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</pre></div>
</div>
<p><em>handlers</em></p>
<blockquote>
<div>Equivalent to calling the <tt class="docutils literal"><span class="pre">addhandler</span></tt> method of <a class="reference external" href="http://docs.python.org/lib/node406.html">logger objects</a>.
Useful for sending logs to multiple places.</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">handler</span> <span class="ow">in</span> <span class="n">handlers</span><span class="p">:</span>
    <span class="n">log</span><span class="o">.</span><span class="n">addHandlers</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
</pre></div>
</div>
<p><em>propagate</em></p>
<blockquote>
<div>Same as the <tt class="docutils literal"><span class="pre">propagate</span></tt> class attribute of <a class="reference external" href="http://docs.python.org/lib/node406.html">logger objects</a>. Sets
whether or not log messages are passed to parent loggers. Defaults to 1.</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="n">log</span><span class="o">.</span><span class="n">propagate</span><span class="o">=</span><span class="n">propagate</span>
</pre></div>
</div>
<p>log.cfg:</p>
<div class="highlight-python"><pre>[logging]
[[formatters]]
[[[message_only]]]
format='*(message)s'

[[[full_content]]]
format='*(asctime)s *(name)s *(levelname)s *(message)s'

[[handlers]]
[[[debug_out]]]
class='StreamHandler'
level='DEBUG'
args='(sys.stdout,)'
formatter='full_content'

[[[access_out]]]
class='StreamHandler'
level='INFO'
args='(sys.stdout,)'
formatter='message_only'

[[[error_out]]]
class='StreamHandler'
level='ERROR'
args='(sys.stdout,)'</pre>
</div>
<p>Can you follow it yet? We define 2 formatters named &#8220;message_only&#8221; and
&#8220;full_content&#8221;, then we pick 3 handlers which all stream to stdout but with
different levels and using the two formatters we defined in the same file.</p>
</div>
<div class="section" id="conclusion">
<h2><a class="toc-backref" href="#id11">Conclusion</a><a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>Now that you understand how it works it&#8217;s time to turn it around and do lots of
stuff with it. Check out <a class="reference external" href="http://trac.turbogears.org/turbogears/wiki/LoggingConfigurationExamples">LoggingConfigurationExamples</a> for more.</p>
</div>
</div>


    </div>
  </div>
      <div class="clearer"></div>
    </div>
  <div class="footer"><span>
      &copy; Copyright 
      by the <a href="">TurboGears</a> Doc Team.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
  </span></div>
  <script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script>
  <script type="text/javascript">
  try {
  var pageTracker = _gat._getTracker("UA-7088080-2");
  pageTracker._trackPageview();
  } catch(err) {}</script>
  </body>
</html>