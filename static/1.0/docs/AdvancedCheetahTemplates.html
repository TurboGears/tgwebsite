
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Templates for using TurboCheetah with TurboGears &mdash; TurboGears 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/tg.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <script type="text/javascript" src="_static/header.js"></script>
    <link rel="top" title="TurboGears 1.0 documentation" href="index.html" />
    <link rel="next" title="Data Model Guide" href="GettingStarted/DefineDatabase.html" />
    <link rel="prev" title="Genshi Templates Internationalization with Babel" href="GenshiInternationalizationWithBabel.html" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="GettingStarted/DefineDatabase.html" title="Data Model Guide"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="GenshiInternationalizationWithBabel.html" title="Genshi Templates Internationalization with Babel"
             accesskey="P">previous</a> |</li>
<li><a href="index.html">TurboGears 1.0 documentation</a> &raquo;</li>
<li id="searchbox" style="display: none; margin: 0 20px;" class="right">
  <form class="search" action="search.html" method="get">
    <span>Search:</span>
    <input type="text" name="q" size="18" />
    <input type="submit" value="Go" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</li>
<script type="text/javascript">$('#searchbox').show(0);</script>
 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">TurboGears 1.0 FAQ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Install/index.html">Downloading and Installing TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="Install/Deployment.html">Deploying TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="Database/index.html">Database Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/BigPicture.html">The Big Picture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TGScreencasts.html">TurboGears Screencasts</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Wiki20/Page1.html">The 20 Minutes Wiki</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Controller.html">Controller Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Arguments.html">I Wanted An Argument!</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/UseDatabase.html">Data Model Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Kid.html">A Brief Introduction to Kid Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/MochiKit.html">A Brief Introduction to MochiKit</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Identity/GettingStarted.html">Getting Started With Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Introduction.html">Introduction To Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/SimpleForm.html">Simple Widget Form Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="FileUploadTutorial.html">File Upload Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="ToDoListTutorial.html">Brian&#8217;s TurboGears Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TgAdmin.html">tg-admin command line tool reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="QuickStart.html">Are you ready to gear up?</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Server.html">Starting Up The Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="Configuration.html">TurboGears Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="CreatingBigApplications.html">Creating Big Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="SpecificProblems.html">Solving specific problems</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/Arguments.html">I Wanted An Argument!</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/URLs.html">Using URLs</a></li>
<li class="toctree-l1"><a class="reference internal" href="CreatingBigApplications.html">Creating Big Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="RequestResponse.html">Access Request/Response Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="StaticFiles.html">Serving Static Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="Cookies.html">Using Cookies in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sessions.html">Using Sessions in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="FeedController.html">Serving RSS and Atom feeds</a></li>
<li class="toctree-l1"><a class="reference internal" href="UnifiedControllers.html">Unified Form Data Validation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ExposeDecorator.html">&#64;expose()</a></li>
<li class="toctree-l1"><a class="reference internal" href="ValidateDecorator.html">&#64;validate()</a></li>
<li class="toctree-l1"><a class="reference internal" href="ErrorHandling.html">Error Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/Usage.html">Using Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="PaginateDecorator.html">&#64;paginate()</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="StdVars.html"><tt class="docutils literal"><span class="pre">stdvars</span></tt>: Global Template Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="HeadersFooters.html">Application-wide Headers and Footers</a></li>
<li class="toctree-l1"><a class="reference internal" href="JSON.html">JSON Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="Designer.html">Designer-Friendly Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="DummyTemplate.html">Dummy Kid Template for Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="KidHTMLEntities.html">HTML Entities in Kid templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="CheckedCheckBox.html">Automatically Checking a Checkbox or Radio Button</a></li>
<li class="toctree-l1"><a class="reference internal" href="BreadCrumb.html">Breadcrumb Style Navigation</a></li>
<li class="toctree-l1"><a class="reference internal" href="CreatingBigApplications.html">Creating Big Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="NonPackagedKidTemplates.html">Loading Kid templates from outside your application package</a></li>
<li class="toctree-l1"><a class="reference internal" href="GenshiInternationalizationWithBabel.html">Genshi Templates Internationalization with Babel</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Templates for using TurboCheetah with TurboGears</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-controller">The controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-template-base-class">The template base class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-site-template">The site template</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-page-template">The page template</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/DefineDatabase.html">Data Model Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="BackEndOverview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="BackEndOverview.html#supported-backends">Supported backends</a></li>
<li class="toctree-l1"><a class="reference internal" href="DbUri.html">The DB-URI</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/index.html">SQLObject Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="TgAdminSqlUpgrade.html">How to Use <tt class="docutils literal"><span class="pre">tgadmin</span> <span class="pre">sql</span> <span class="pre">upgrade</span></tt> with SQLObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="ModelOutsideTG.html">Using Your Model Outside of TurboGears Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="MultipleDatabases.html">Using Multiple Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/AutoUpdateField.html">Auto-updating an attribute with SQLObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Debug.html">SQLObject Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/DirectSQL.html">SQLObject direct SQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/ForeignKeys.html">SQLObject Foreign Keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/QuickGuide.html">SQLObject Quick Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/ReservedWords.html">Avoiding SQL reserved words in the model definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Caching.html">SQLObject Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Gotchas.html">SQLObject &#8220;gotcha&#8217;s&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/StoringAndRetrievingFiles.html">Storing and Retrieving Files from a Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Views.html">Views in SQLObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/VsHibernate.html">Hibernate vs SqlObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLAlchemy/Configuration.html">SQLAlchemy Configuration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Overview.html">Widgets Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/index.html">Guide to the TurboGears Widgets Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Browser.html">WidgetBrowser</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Explore.html">Dive Into Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/SimpleForm.html">Simple Widget Form Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/FormValidationWithSchemas.html">Widget Form Validation with Schemas</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/ModifyDefaults.html">Changing Widget Defaults at Run Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/DynamicForm.html">Dynamically Modifying a Form&#8217;s Widgets With Ajax</a></li>
<li class="toctree-l1"><a class="reference internal" href="DynamicValidation.html">Dynamic Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Packages.html">Widget Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/StatelessWidgets.html">StatelessWidgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/DataGrid.html">DataGrid</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/AjaxGrid.html">Ajax Grid Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/AutoCompleteField.html">The AutoCompleteField Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/RemoteForm.html">RemoteForm Widget Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/RemoteLink.html">Wrap Ajax Operations in Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/CompoundWidgets.html">Implementing and using CompoundWidgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/RepeatingFieldSet.html">RepeatingFieldSet Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/CalendarDatePicker.html">CalendarDatePicker Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/NicerForms.html">Nicer Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="FastData/index.html">FastData</a></li>
<li class="toctree-l1"><a class="reference internal" href="FastData/DataController.html">DataController</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Recipes.html">Widget Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Tips.html">Widget Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="ToscaWidgets.html">Using ToscaWidgets in TurboGears 1.0</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Visit/index.html">Using the Visit Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="Visit/Extending.html">Extending the Visit Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="Visit/UserTrackedLogging.html">User Tracked Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="Visit/PermanentLogin.html">Permanent Login</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/index.html">Identity Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/GettingStarted.html">Getting Started With Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/Usage.html">Using Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/EncryptedPassword.html">Using Identity with Encrypted Passwords</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/Recipes.html">Identity Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="Identity/OpenID.html">OpenID Authentication with TurboGears Identity</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Testing.html">Testing Your Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="LoggingSystem.html">Understanding the Logging System</a></li>
<li class="toctree-l1"><a class="reference internal" href="ErrorReporting.html">Custom Error Reporting</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Debugging.html">Debugging a TurboGears Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="DummyTemplate.html">Dummy Kid Template for Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="SQLObject/Debug.html">SQLObject Debugging</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Optimization.html">Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="CachingTechniques.html">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="GzipCompressing.html">Gzip Compressing Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="UsingPylint.html">Using Pylint to Improve the Quality of Your Code</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Toolbox.html">TurboGears Toolbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="Admi18n.html">The Admi18n Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="Catwalk.html">CatWalk</a></li>
<li class="toctree-l1"><a class="reference internal" href="FastData/DataController.html">DataController</a></li>
<li class="toctree-l1"><a class="reference internal" href="VersionInfo.html">Toolbox Info</a></li>
<li class="toctree-l1"><a class="reference internal" href="ModelDesigner.html">ModelDesigner</a></li>
<li class="toctree-l1"><a class="reference internal" href="WebConsole.html">Web Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="Widgets/Browser.html">WidgetBrowser</a></li>
<li class="toctree-l1"><a class="reference internal" href="DreamWeaverIntegration.html">DreamWeaver Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="VimIntegration.html">Vim Editor Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FlashNotes.html">Using Flash Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="JsonifyDecorator.html">The <tt class="docutils literal"><span class="pre">jsonify</span></tt> Decorator</a></li>
<li class="toctree-l1"><a class="reference internal" href="Internationalization.html">Internationalizing your application</a></li>
<li class="toctree-l1"><a class="reference internal" href="UnicodeTips.html">Tips for Using Non-ASCII Characters in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="Scheduler.html">Scheduling Tasks with TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="ErrorReporting.html">Custom Error Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="ZeroConfSupport.html">Zeroconf support in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="StartupHook.html">Startup Hook</a></li>
<li class="toctree-l1"><a class="reference internal" href="CRUDTemplate.html">CRUD Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="RESTfulPath.html">RESTful URLs with TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="RESTfulPaginate.html">RESTful Pagination Using the Paginate Decorator</a></li>
<li class="toctree-l1"><a class="reference internal" href="WebServices.html">WebServices with TGWebServices</a></li>
<li class="toctree-l1"><a class="reference internal" href="OAuthAuthentication.html">Validating Signed Requests from OpenSocial Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="GenerateFigures.html">Generating Graphs and Figures in TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="FileUploadTutorial.html">File Upload Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="FileUploadProgressBar.html">File Upload Progress Bar</a></li>
<li class="toctree-l1"><a class="reference internal" href="AlternativeComponents.html">Alternative Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted/UseElixir.html">Getting Started with Elixir</a></li>
<li class="toctree-l1"><a class="reference internal" href="RoutesIntegration.html">Using Routes with TurboGears</a></li>
<li class="toctree-l1"><a class="reference internal" href="EntryPointList.html">TurboGears Entry Point list</a></li>
<li class="toctree-l1"><a class="reference internal" href="MakingYourAppExtensible.html">Making Extensible Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="TurboGearsAndMicroApps.html">What does this have to do with TurboGears?</a></li>
<li class="toctree-l1"><a class="reference internal" href="TurboGearsAndMicroApps.html#an-example-is-worth-a-thousand-pages-worth-of-blather">An example is worth a thousand pages worth of blather</a></li>
<li class="toctree-l1"><a class="reference internal" href="TurboGearsAndMicroApps.html#now-for-the-bad-news">Now for the bad news</a></li>
<li class="toctree-l1"><a class="reference internal" href="UsingSphinx.html">Using Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="CookieDefault.html">Cookie Default</a></li>
<li class="toctree-l1"><a class="reference internal" href="ConvertCookies.html">Converting Between Cookie Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="ExtraRequestParams.html">Handling Extra Request Parameters With CherryPy Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="RouteByHttpMethod.html">Routing Requests According to HTTP Request Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="VirtualHost.html">Virtual Host</a></li>
<li class="toctree-l1"><a class="reference internal" href="GenshiRenderingWithoutExpose.html">Genshi Rendering without using &#64;expose()</a></li>
<li class="toctree-l1"><a class="reference internal" href="ServeDynamicFiles.html">Serving Dynamically Generated Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="HybridNestedSetModel.html">Hybrid Nested Set Model for Hierarchical Storage of SQLObject Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="SockFile.html">Connecting to MySQL via a socket file</a></li>
<li class="toctree-l1"><a class="reference internal" href="SelectingOption.html">Setting the selected option of a SELECT element</a></li>
<li class="toctree-l1"><a class="reference internal" href="DojoIEWorkaround.html">Dojo / IE workaround</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Philosophy.html">TurboGears Project Philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="Plugins.html">TurboGears Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="TemplatePlugins.html">Writing a Template Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="CommandPlugins.html"><tt class="docutils literal"><span class="pre">tg-admin</span></tt> Command Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="ExtendingQuickstart.html">Extending Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="License.html">TurboGears Licenses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ThirdParty.html">ThirdParty Components Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html">API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ChangeLog.html">TurboGears Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TGBooks.html">TurboGears Books</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TGArticles.html">TuboGears Articles</a></li>
<li class="toctree-l1"><a class="reference internal" href="PresentationMaterial.html">TurboGears presentation material</a></li>
</ul>

        </div>
      </div>


    <div class="document">
  <div class="documentwrapper">
    <div class="body headerfix">
      
  <div class="section" id="templates-for-using-turbocheetah-with-turbogears">
<span id="index-0"></span><h1>Templates for using TurboCheetah with TurboGears<a class="headerlink" href="#templates-for-using-turbocheetah-with-turbogears" title="Permalink to this headline">¶</a></h1>
<p>So you want to use Cheetah templates for your pages but still take advantage of the automatic Javascript/CSS inclusion that the standard Kid <tt class="docutils literal"><span class="pre">sitetemplate.kid</span></tt> does? Here are the files you need to set up a mini TurboGears project using <a class="reference internal" href="CheetahTemplating.html"><em>Cheetah Templates</em></a>.</p>
<p>Before starting, make sure you have TurboGears 1.0.4, TurboCheetah 1.0 and Cheetah 2.0.1 or higher versions installed. Older versions do not support <tt class="docutils literal"><span class="pre">cheetah.importhooks</span></tt> setting and have problems with Unicode.</p>
<div class="section" id="the-controller">
<h2>The controller<a class="headerlink" href="#the-controller" title="Permalink to this headline">¶</a></h2>
<p>We are going to test our templates with this minimal controller. Just replace the contents of <tt class="docutils literal"><span class="pre">controllers.py</span></tt> of our fresh, quickstarted project with this code:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># -*- coding: UTF-8 -*-</span>

<span class="kn">from</span> <span class="nn">turbogears</span> <span class="kn">import</span> <span class="n">controllers</span><span class="p">,</span> <span class="n">expose</span><span class="p">,</span> <span class="n">flash</span>

<span class="k">class</span> <span class="nc">Root</span><span class="p">(</span><span class="n">controllers</span><span class="o">.</span><span class="n">RootController</span><span class="p">):</span>

    <span class="nd">@expose</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="s">&quot;cheetah:cheetahtemplates.templates.welcome&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">time</span>
        <span class="n">flash</span><span class="p">(</span><span class="s">u&quot;Herzliche Grüße &amp; viel Spaß!&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">now</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">())</span>
</pre></div>
</div>
<p>Note the encoding declaration at the top of the file, so that we can use UTF-8 characters in our unicode strings. Make sure to save this file with UTF-8 encoding. Replace <tt class="docutils literal"><span class="pre">cheetahtemplates</span></tt> in the template name with the package name of your project.</p>
</div>
<div class="section" id="the-template-base-class">
<h2>The template base class<a class="headerlink" href="#the-template-base-class" title="Permalink to this headline">¶</a></h2>
<p>With Cheetah your templates can subclass a pure Python class. Attributes and functions of this class are available as template variables. This allows to define some handy utility functions you can use in your templates:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Cheetah.Template</span> <span class="kn">import</span> <span class="n">Template</span>

<span class="kn">from</span> <span class="nn">turbogears</span> <span class="kn">import</span> <span class="n">url</span>
<span class="kn">from</span> <span class="nn">turbogears.widgets.meta</span> <span class="kn">import</span> <span class="n">load_kid_template</span>


<span class="n">PlainHTML</span> <span class="o">=</span> <span class="n">load_kid_template</span><span class="p">(</span><span class="s">&#39;&#39;&#39;&lt;html xmlns:py=&quot;http://purl.org/kid/ns#&quot;</span>
<span class="s">  py:replace=&quot;elements&quot;/&gt;&#39;&#39;&#39;</span><span class="p">,</span>  <span class="n">modname</span><span class="o">=</span><span class="s">&quot;turbogears.widgets.plainhtml&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">serialize_et</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;html&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert an ElementTree.Element into a string representation.&quot;&quot;&quot;</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">PlainHTML</span><span class="p">(</span><span class="n">elements</span><span class="o">=</span><span class="n">elem</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">t</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="n">format</span><span class="p">,</span> <span class="n">fragment</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">escape</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">quote</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Escape special HTML chars in string.&quot;&quot;&quot;</span>

    <span class="c"># These substitutions are copied from cgi.escape().</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&quot;&amp;&quot;</span><span class="p">,</span> <span class="s">&quot;&amp;amp;&quot;</span><span class="p">)</span> <span class="c"># Must be done first!</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s">&quot;&amp;lt;&quot;</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&quot;&gt;&quot;</span><span class="p">,</span> <span class="s">&quot;&amp;gt;&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">quote</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s">&quot;&amp;quot;&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span>


<span class="k">class</span> <span class="nc">SiteBase</span><span class="p">(</span><span class="n">Template</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The base class for the project&#39;s Cheetah templates.</span>

<span class="sd">    Implements a few utility functions, which will be available as</span>
<span class="sd">    template placeholders.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">image_base</span> <span class="o">=</span> <span class="n">url</span><span class="p">(</span><span class="s">&#39;/static/images/&#39;</span><span class="p">)</span>
    <span class="n">css_base</span> <span class="o">=</span> <span class="n">url</span><span class="p">(</span><span class="s">&#39;/static/css/&#39;</span><span class="p">)</span>
    <span class="n">js_base</span> <span class="o">=</span> <span class="n">url</span><span class="p">(</span><span class="s">&#39;/static/javascript/&#39;</span><span class="p">)</span>

    <span class="n">_js_src_tmpl</span> <span class="o">=</span> <span class="s">&#39;&lt;script type=&quot;text/javascript&quot; language=&quot;JavaScript</span><span class="si">%s</span><span class="s">&quot;&gt;</span><span class="se">\n</span><span class="si">%s</span><span class="s">&lt;/script&gt;&#39;</span>

    <span class="n">_js_link_tmpl</span> <span class="o">=</span> <span class="s">&#39;&lt;script type=&quot;text/javascript&quot; language=&quot;JavaScript</span><span class="si">%s</span><span class="s">&quot; src=&quot;</span><span class="si">%s</span><span class="s">&quot;&gt;&lt;/script&gt;&#39;</span>

    <span class="n">_css_link_tmpl</span> <span class="o">=</span> <span class="s">&#39;&lt;link rel=&quot;</span><span class="si">%s</span><span class="s">&quot; type=&quot;text/css&quot; href=&quot;</span><span class="si">%s</span><span class="s">&quot; /&gt;&#39;</span>

    <span class="k">def</span> <span class="nf">js_src</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">relpath</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_js_src_tmpl</span> <span class="o">%</span> <span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">js_base</span> <span class="o">+</span> <span class="n">relpath</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">js_link</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">relpath</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_js_link_tmpl</span> <span class="o">%</span> <span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">js_base</span> <span class="o">+</span> <span class="n">relpath</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">css_link</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">relpath</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_css_link_tmpl</span> <span class="o">%</span> <span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">css_base</span> <span class="o">+</span> <span class="n">relpath</span><span class="p">)</span>
</pre></div>
</div>
<p>Save this code to a file named <tt class="docutils literal"><span class="pre">SiteBase.py</span></tt> in the <tt class="docutils literal"><span class="pre">templates</span></tt> folder of your project (the exact name and capitalization is important!). You can delete all Kid templates (files with extension <tt class="docutils literal"><span class="pre">*.kid</span></tt>), since we will not use them for our mini project. Don&#8217;t delete the <tt class="docutils literal"><span class="pre">__init__.py</span></tt> file.</p>
<p>It also implements a little trick that allows one to use <tt class="docutils literal"><span class="pre">ElementTree.Element</span></tt> instances directly as placeholders values. The custom filter will transform them into a string representation that Cheetah then substitutes for the placeholder in your template. This comes in handy for widgets and other dynamic HTML elements provided by your controller code.</p>
</div>
<div class="section" id="the-site-template">
<h2>The site template<a class="headerlink" href="#the-site-template" title="Permalink to this headline">¶</a></h2>
<p>The site template defines the basic layout of all your pages. Customize to your liking or plug in another template in the inheritance structure. See the Cheetah user guide for more information. <strong>Be sure to always include the meta header that sets the page encoding to UTF-8</strong>:</p>
<div class="highlight-python"><pre>&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd"&gt;
#extends SiteBase
#implements respond
&lt;html&gt;
&lt;head&gt;
  #block headtop
  &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
  #end block

  #for $css in $tg_css
  $css
  #end for

  ## include your own external CSS stylesheet links here, e.g.
  ##$css_link('myproject.css')

  #for $js in $tg_js_head
  $js
  #end for

  ## include your own external JS files links here, e.g.
  ##$js_link('myproject.js')

  #block pagetitle
  &lt;title&gt;HEre goes the page title&lt;/title&gt;
  #end block
&lt;/head&gt;

&lt;body&gt;
#for $js in $tg_js_bodytop
$js
#end for

&lt;div id="header"&gt;
  #if $tg.config('identity.on', False)
  &lt;div id="pageLogin"&gt;
    #if $tg.identity.anonymous
    You are not logged in
      #if 'loggin_in' not in locals()
      &lt;span class="menu-sep"&gt;::&lt;/span&gt;
      &lt;a href="$tg.url('/login')"&gt;Login&lt;/a&gt;
      #end if
    #else
    You are logged in as
    &lt;span class="user_name"&gt;$tg.identity.user.display_name&lt;/span&gt;
    &lt;span class="menu-sep"&gt;::&lt;/span&gt;
    &lt;a href="$tg.url('/logout')"&gt;Logout&lt;/a&gt;
    #end if
    &lt;span class="menu-sep"&gt;::&lt;/span&gt;
    &lt;a href="$tg.url('/')"&gt;Home&lt;/a&gt;
  &lt;/div&gt;
  #end if
&lt;/div&gt;

#if $tg_flash
&lt;div class="tg_flash"&gt;${tg_flash, escape=True}&lt;/div&gt;
#end if

&lt;div id="pagecontent"&gt;
  #block pagecontent
  &lt;p class="placeholder"&gt;Here comes the page content...&lt;/p&gt;
  #end block
&lt;/div&gt;

#for $js in $tg_js_bodybottom
$js
#end for
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<p>Save this code in a file named <tt class="docutils literal"><span class="pre">SiteTemplate.tmpl</span></tt> in the <tt class="docutils literal"><span class="pre">templates</span></tt> folder of your project.</p>
<p>If you have set <tt class="docutils literal"><span class="pre">cheetah.precompiled</span> <span class="pre">=</span> <span class="pre">True</span></tt> or you have not set <tt class="docutils literal"><span class="pre">cheetah.importhooks</span> <span class="pre">=</span> <span class="pre">True</span></tt> in your configuration, then you need to compile this template manually with <tt class="docutils literal"><span class="pre">cheetah-compile</span> <span class="pre">SiteTemplate.py</span></tt>. Generally, if you set  <tt class="docutils literal"><span class="pre">cheetah.precompiled</span> <span class="pre">=</span> <span class="pre">True</span></tt> then you need to compile all templates manually. Otherwise, if you have not set <tt class="docutils literal"><span class="pre">cheetah.importhooks</span> <span class="pre">=</span> <span class="pre">True</span></tt>, then the page templates are compiled automatically, but you need to compile the extended (indirectly loaded) templates, like <tt class="docutils literal"><span class="pre">SiteTemplate.tmpl</span></tt>. If you set <tt class="docutils literal"><span class="pre">cheetah.importhooks</span> <span class="pre">=</span> <span class="pre">True</span></tt>, then even these are compiled automatically when they are imported. On a production server, you may want to do without the automatisms by setting <tt class="docutils literal"><span class="pre">cheetah.precompiled</span> <span class="pre">=</span> <span class="pre">True</span></tt> and compiling all templates manually.</p>
</div>
<div class="section" id="the-page-template">
<h2>The page template<a class="headerlink" href="#the-page-template" title="Permalink to this headline">¶</a></h2>
<p>Finally, here&#8217;s an example for a page template. Note how we just write the actual content of the page by redefining the <tt class="docutils literal"><span class="pre">pagecontent</span></tt> block with the <tt class="docutils literal"><span class="pre">#def</span></tt> directive. All the rest of the HTML comes from <tt class="docutils literal"><span class="pre">SiteTemplate</span></tt>:</p>
<div class="highlight-python"><pre>#extends cheetahtemplates.templates.SiteTemplate

#def pagetitle
&lt;title&gt;Welcome to TurboGears!&lt;/title&gt;
#end def

#def pagecontent
&lt;h1&gt;Welcome to TurboGears!&lt;/h1&gt;

&lt;p&gt;This page was generated on $now&lt;/p&gt;
#end def</pre>
</div>
<p>Save this code in a file named <tt class="docutils literal"><span class="pre">welcome.tmpl</span></tt> in the <tt class="docutils literal"><span class="pre">templates</span></tt> folder of your project. Again, replace <tt class="docutils literal"><span class="pre">cheetahtemplates</span></tt> in the <tt class="docutils literal"><span class="pre">#extends</span></tt> directive with the package name of your project.</p>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>Now start your Turbogears server and open your browser at <tt class="docutils literal"><span class="pre">http://localhost:8080</span></tt>. You should see a page with &#8220;Herzliche Grüße &amp; viel Spaß!&#8221; (this is from <tt class="docutils literal"><span class="pre">turbogears.flash()</span></tt>) at the top and the current date &amp; time in place of the <tt class="docutils literal"><span class="pre">$now</span></tt> placeholder (this is from the dict returned by the controller method).</p>
</div>
<div class="section" id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>Here&#8217;s a recap of the most important things to remember:</p>
<blockquote>
<div><ul class="simple">
<li>Prefix your template name in <tt class="docutils literal"><span class="pre">&#64;expose</span></tt> with <tt class="docutils literal"><span class="pre">cheetah:</span></tt>.</li>
<li>You need to compile your Cheetah page template with <tt class="docutils literal"><span class="pre">cheetah-compile</span></tt> if you have set <tt class="docutils literal"><span class="pre">cheetah.precompiled</span> <span class="pre">=</span> <span class="pre">True</span></tt> in your configuration.</li>
<li>You need to compile your Cheetah site template with <tt class="docutils literal"><span class="pre">cheetah-compile</span></tt> if you haven&#8217;t set <tt class="docutils literal"><span class="pre">cheetah.importhooks</span> <span class="pre">=</span> <span class="pre">True</span></tt> or if you have set <tt class="docutils literal"><span class="pre">cheetah.precompiled</span> <span class="pre">=</span> <span class="pre">True</span></tt> in your configuration.</li>
<li>Put a meta header declaring the UTF-8 encoding of the HTML code in your site template.</li>
<li>Put an encoding declaration for UTF-8 in your Python source files if you use literal unicode strings and save them UTF-8 encoded.</li>
<li>Put any complex function you want to use in all your templates as methods of the <tt class="docutils literal"><span class="pre">SiteBase</span></tt> class.</li>
<li>If your template variables may contain special HTML characters, use the <tt class="docutils literal"><span class="pre">escape</span></tt> parameter for placeholders, e.g. <tt class="docutils literal"><span class="pre">${myvar,</span> <span class="pre">escape=True}</span></tt>.</li>
</ul>
</div></blockquote>
</div>
</div>


    </div>
  </div>
      <div class="clearer"></div>
    </div>
  <div class="footer"><span>
      &copy; Copyright 
      by the <a href="">TurboGears</a> Doc Team.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
  </span></div>
  <script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script>
  <script type="text/javascript">
  try {
  var pageTracker = _gat._getTracker("UA-7088080-2");
  pageTracker._trackPageview();
  } catch(err) {}</script>
  </body>
</html>